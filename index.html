<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HBD Yanyee! ü•≥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Pacifico&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- RESET CSS --- */
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #ffe4e6;
            overflow: hidden; 
        }
        .font-handwriting { font-family: 'Pacifico', cursive; }
        .font-fun { font-family: 'Fredoka', sans-serif; }

        /* SLIDER STYLE */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
            margin: 25px 0;
            cursor: pointer;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 24px;
            cursor: pointer;
            background: #be123c;
            border-radius: 25px;
            border: 3px solid #ffffff;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
        }
        input[type=range]::-moz-range-track {
            width: 100%;
            height: 24px;
            cursor: pointer;
            background: #be123c;
            border-radius: 25px;
            border: 3px solid #ffffff;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 45px;
            width: 45px;
            margin-top: -12px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüç™%3C/text%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            filter: drop-shadow(0 3px 4px rgba(0,0,0,0.3));
            transition: transform 0.1s;
            z-index: 99;
        }
        input[type=range]::-moz-range-thumb {
            height: 45px;
            width: 45px;
            border: none;
            background-color: transparent;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüç™%3C/text%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
        }
        input[type=range]:active::-webkit-slider-thumb { transform: scale(1.1); }

        /* CAROUSEL 3D (FIXED SPACING EXTRA) */
        .scene {
            perspective: 1000px;
            width: 260px;
            height: 300px;
            /* JARAK BAWAH DITAMBAH JADI 250px (SANGAT JAUH) */
            margin: 20px auto 250px auto; 
            position: relative;
            z-index: 10;
        }
        .carousel {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            animation: rotate 20s infinite linear;
        }
        .carousel__cell {
            position: absolute;
            width: 140px;
            height: 200px;
            left: 60px;
            top: 10px;
            border-radius: 12px;
            overflow: hidden;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
            background: white;
        }
        .carousel__cell img { width: 100%; height: 100%; object-fit: cover; }
        @keyframes rotate { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }

        /* RAIN ANIMATION */
        .rain-item { position: fixed; top: -50px; z-index: 50; pointer-events: none; opacity: 0.9; }
        .fade-in-up { animation: fadeInUp 1s ease forwards; opacity: 0; transform: translateY(30px); }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

        /* GLASS CARD */
        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border: 2px solid white;
            box-shadow: 0 15px 35px rgba(244, 63, 94, 0.15);
        }

        /* POPUP */
        .popup-overlay { opacity: 0; pointer-events: none; transition: all 0.3s ease; }
        .popup-overlay.active { opacity: 1; pointer-events: auto; }
        .popup-content { transform: scale(0.8); transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .popup-overlay.active .popup-content { transform: scale(1); }

        /* MUSIC PLAYER STYLE */
        .music-card {
            background: linear-gradient(135deg, #fff0f5 0%, #ffe4e6 100%);
            border: 2px solid #fff;
            box-shadow: 0 8px 20px rgba(251, 113, 133, 0.2);
            position: relative;
            z-index: 20;
        }
        .vinyl-spin { animation: spinDisk 4s linear infinite; }
        .vinyl-paused { animation-play-state: paused; }
        @keyframes spinDisk { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #fecdd3;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 10px;
        }
        .progress-fill {
            height: 100%;
            background: #e11d48;
            width: 0%;
            animation: progress 180s linear infinite;
        }
        @keyframes progress { from { width: 0%; } to { width: 100%; } }
    </style>
</head>
<body class="h-screen w-full">

    <audio id="bgMusic" loop>
        <source src="JKT48 - Namida Surprise (cut).mp3" type="audio/mpeg">
    </audio>

    <div id="rainContainer"></div>

    <button id="musicBtn" class="hidden fixed top-5 right-5 z-[60] bg-white/80 backdrop-blur-md p-3 rounded-full shadow-xl border-2 border-pink-200 text-rose-500 text-xl hover:bg-white transition-all active:scale-90">
        <i class="fa-solid fa-music"></i>
    </button>

    <div id="customPopup" class="popup-overlay fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4">
        <div class="popup-content bg-white p-8 rounded-[2rem] shadow-2xl max-w-xs w-full text-center border-4 border-pink-200 relative">
            <div class="text-6xl mb-2 animate-bounce">üìè</div>
            <h3 class="text-2xl font-fun font-bold text-rose-500 mb-2">Target Baru! üéØ</h3>
            <p class="text-gray-600 font-medium text-lg leading-relaxed mb-6">
                "Ditunggu nambah brp cm tingginya ya! üòú"
            </p>
            <button id="closePopupBtn" class="w-full bg-gradient-to-r from-rose-400 to-pink-500 text-white py-3 rounded-xl font-bold shadow-lg active:scale-95 transition-transform">
                Siap Laksanakan! ü´°
            </button>
            <div class="absolute -top-4 -right-4 text-4xl">üç™</div>
        </div>
    </div>

    <div id="introSection" class="fixed inset-0 z-[70] flex items-center justify-center bg-pink-50 transition-all duration-700">
        <div class="bg-white p-8 rounded-[2rem] shadow-2xl w-11/12 max-w-sm border-[6px] border-rose-200 text-center relative overflow-hidden">
            <div class="absolute top-[-20px] right-[-20px] text-6xl opacity-20 rotate-12">üç™</div>
            <div class="absolute bottom-[-20px] left-[-20px] text-6xl opacity-20 rotate-[-12]">üéâ</div>

            <h1 class="text-3xl font-fun font-bold text-rose-500">Eits, Cek Dulu! üßê</h1>
            <p class="text-gray-400 text-xs mb-6 mt-1 font-semibold">GESER COOKIES KE TAHUN LAHIR KAMU</p>
            
            <div class="bg-rose-50 rounded-2xl p-6 border-2 border-rose-100 mb-6 shadow-inner">
                <div class="text-6xl font-handwriting text-rose-600 mb-2 scale-110 transition-all" id="yearDisplay">2006</div>
                <input type="range" id="yearInput" min="2000" max="2012" value="2006">
                <div class="flex justify-between text-xs font-extrabold text-rose-500 mt-2 uppercase tracking-wider">
                    <span>2000</span>
                    <span>2012</span>
                </div>
            </div>

            <button id="nextBtn" class="w-full bg-gradient-to-br from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 text-white font-bold py-4 rounded-full shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2 text-lg tracking-wide">
                GASSS LANJUT! üöÄ
            </button>
        </div>
    </div>

    <div id="mainSection" class="hidden fixed inset-0 z-40 flex-col items-center overflow-y-auto overflow-x-hidden bg-gradient-to-b from-pink-100 to-rose-50 pb-20">
        
        <div class="w-full text-center pt-12 pb-2 px-4 fade-in-up relative z-20">
            <div class="inline-block bg-white/90 backdrop-blur px-5 py-1 rounded-full shadow-sm border border-pink-200 mb-3">
                <span class="text-rose-500 font-bold text-xs tracking-[0.2em]">‚ú® SPECIAL DAY ‚ú®</span>
            </div>
            <h1 class="text-5xl md:text-6xl font-handwriting text-rose-500 leading-tight drop-shadow-sm">
                Happy Birthday<br>
                <span class="text-pink-400 block mt-3 md:mt-4 text-6xl md:text-7xl">Yanyee!</span>
            </h1>
        </div>

        <div class="w-11/12 max-w-md px-4 mt-6 mb-8 fade-in-up relative z-30" style="animation-delay: 0.3s;">
            <div class="glass-card p-6 md:p-8 rounded-3xl relative text-center">
                <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-rose-500 text-white px-4 py-1 rounded-full text-xs font-bold shadow-md w-max">
                    Pesan Buat Kamu üíå
                </div>

                <h2 class="text-xl md:text-2xl font-fun font-bold text-rose-600 mb-4 mt-4">
                    Cieee, Level Up ke-<span id="ageDisplay" class="text-2xl md:text-3xl underline decoration-wavy decoration-pink-300"></span> nih! üòé
                </h2>
                
                <p class="text-gray-700 text-sm md:text-base leading-relaxed font-medium mb-6">
                    "Happy Birthday Yanyee! üéâ<br><br>
                    Semoga di umur yang baru ini makin tinggi, makin happy, dan apa yang kamu mau tercapai semua. 
                    Tetap jadi pribadi yang asik dan jangan lupa bahagia terus ya! <br><br>
                    <i>Wish you all the best oshi pendek ku ü•≥‚ú®</i>"
                </p>

                <button id="showGiftBtn" class="bg-rose-500 hover:bg-rose-600 text-white w-full py-3 rounded-xl font-bold shadow-lg active:scale-95 transition flex items-center justify-center gap-2">
                    Klik Sini üéÅ
                </button>
            </div>
        </div>

        <div class="scene fade-in-up" style="animation-delay: 0.6s;">
            <div class="carousel">
                <div class="carousel__cell" style="transform: rotateY(0deg) translateZ(240px);"><img src="1.webp" alt="1"></div>
                <div class="carousel__cell" style="transform: rotateY(40deg) translateZ(240px);"><img src="2.webp" alt="2"></div>
                <div class="carousel__cell" style="transform: rotateY(80deg) translateZ(240px);"><img src="3.webp" alt="3"></div>
                <div class="carousel__cell" style="transform: rotateY(120deg) translateZ(240px);"><img src="4.webp" alt="4"></div>
                <div class="carousel__cell" style="transform: rotateY(160deg) translateZ(240px);"><img src="5.webp" alt="5"></div>
                <div class="carousel__cell" style="transform: rotateY(200deg) translateZ(240px);"><img src="6.webp" alt="6"></div>
                <div class="carousel__cell" style="transform: rotateY(240deg) translateZ(240px);"><img src="7.webp" alt="7"></div>
                <div class="carousel__cell" style="transform: rotateY(280deg) translateZ(240px);"><img src="8.webp" alt="8"></div>
                <div class="carousel__cell" style="transform: rotateY(320deg) translateZ(240px);"><img src="9.webp" alt="9"></div>
            </div>
        </div>

        <div class="w-11/12 max-w-md px-4 mt-20 mb-20 fade-in-up z-30" style="animation-delay: 0.9s;">
            
            <div class="text-center mb-4">
                <span class="bg-white/60 backdrop-blur px-3 py-1 rounded-full text-rose-400 text-[10px] font-bold tracking-widest border border-pink-100">NOW PLAYING üéµ</span>
            </div>

            <div class="music-card p-5 rounded-2xl flex items-center gap-4 relative overflow-hidden">
                <div class="w-16 h-16 rounded-full bg-black border-2 border-rose-300 flex items-center justify-center shadow-lg relative flex-shrink-0">
                    <div id="vinylDisk" class="w-full h-full rounded-full overflow-hidden vinyl-spin">
                        <img src="Namidajkt.webp" class="w-full h-full object-cover opacity-80">
                    </div>
                    <div class="absolute w-4 h-4 bg-rose-100 rounded-full border border-gray-300 z-10"></div>
                </div>

                <div class="flex-1 overflow-hidden">
                    <h4 class="text-rose-600 font-bold text-lg truncate">Namida Surprise!</h4>
                    <p class="text-rose-400 text-xs font-medium">JKT48 - Special Birthday</p>
                    
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>

                <div class="text-rose-300 text-xl animate-pulse">
                    <i class="fa-solid fa-headphones-simple"></i>
                </div>
            </div>

            <div class="text-center mt-10 opacity-60">
                <p class="text-[10px] text-rose-800 tracking-widest">BY @ikifer</p>
                <div class="mt-1 text-xl animate-bounce">üç™</div>
            </div>
        </div>

    </div>

    <script>
        const intro = document.getElementById('introSection');
        const main = document.getElementById('mainSection');
        const slider = document.getElementById('yearInput');
        const yearDisplay = document.getElementById('yearDisplay');
        const btn = document.getElementById('nextBtn');
        const ageSpan = document.getElementById('ageDisplay');
        const audio = document.getElementById('bgMusic');
        const rainContainer = document.getElementById('rainContainer');
        const popup = document.getElementById('customPopup');
        const showGiftBtn = document.getElementById('showGiftBtn');
        const closePopupBtn = document.getElementById('closePopupBtn');
        const musicBtn = document.getElementById('musicBtn');
        const vinylDisk = document.getElementById('vinylDisk');

        slider.addEventListener('input', function() {
            yearDisplay.innerText = this.value;
        });

        btn.addEventListener('click', function() {
            const currentYear = new Date().getFullYear();
            const age = currentYear - parseInt(slider.value);
            ageSpan.innerText = age;

            audio.volume = 0.6;
            audio.play().catch(() => {});

            musicBtn.classList.remove('hidden');

            intro.style.opacity = 0;
            intro.style.transform = 'translateY(-50px)';
            
            setTimeout(() => {
                intro.style.display = 'none';
                main.classList.remove('hidden');
                main.classList.add('flex'); 
                document.body.style.overflow = "auto"; 
                startRain(); 
            }, 500);
        });

        let isPlaying = true;
        musicBtn.addEventListener('click', () => {
            if (isPlaying) {
                audio.pause();
                musicBtn.innerHTML = '<i class="fa-solid fa-volume-xmark"></i>';
                vinylDisk.style.animationPlayState = 'paused';
            } else {
                audio.play();
                musicBtn.innerHTML = '<i class="fa-solid fa-music"></i>';
                vinylDisk.style.animationPlayState = 'running';
            }
            isPlaying = !isPlaying;
        });

        showGiftBtn.addEventListener('click', () => popup.classList.add('active'));
        closePopupBtn.addEventListener('click', () => popup.classList.remove('active'));
        popup.addEventListener('click', (e) => { if (e.target === popup) popup.classList.remove('active'); });

        function startRain() {
            const emojis = ['üç™', 'üç¨', '‚ú®', 'üíñ', 'üç©'];
            setInterval(() => {
                const el = document.createElement('div');
                el.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                el.classList.add('rain-item');
                el.style.left = Math.random() * 100 + 'vw';
                el.style.fontSize = (Math.random() * 20 + 15) + 'px';
                el.style.animation = `fall ${Math.random() * 3 + 3}s linear forwards`;
                rainContainer.appendChild(el);
                setTimeout(() => el.remove(), 6000);
            }, 300);
        }

        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        `;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>